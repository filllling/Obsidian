# 1. **Macro-F1 分数（F1macro）**

- - Macro-F1 是**按类别独立计算 F1**，然后取**所有类别 F1 值的算术平均**。
- 每个类别**权重相同**，无论它出现得多还是少。

### 🌟 举个例子

假设有3个类别：A、B、C  
每个类别单独算出的 F1 值是：

| 类别  | F1值 |
| --- | --- |
| A   | 0.8 |
| B   | 0.6 |
| C   | 0.4 

$F1_macro​=\frac{(0.8+0.6+0.4​)}{3}=0.6$

### ✅ 适用场景

- 各类别**同等重要**时使用。
- 对小类别（样本少的类别）**更友好**。

## 2. **Micro-F1 分数（F1micro）**

### 概念

- Micro-F1 是**在整体上统计 TP、FP、FN**，然后统一计算 Precision、Recall 和 F1。
    
- 更关注**样本数量多的类别**。
    

### 公式

$F1_{\text{micro}} = F1\left(\sum TP, \sum FP, \sum FN\right)$

---

### 🌟 举个例子

假设整体预测结果：

- 总 TP（真正例）= 70
- 总 FP（假正例）= 20
- 总 FN（假负例）= 10

那么：

- Precision（准确率）：
    
    $P = \frac{TP}{TP + FP} = \frac{70}{70+20} = 0.777$
- Recall（召回率）：
    
    $R = \frac{TP}{TP + FN} = \frac{70}{70+10} = 0.875$
- 最后 F1：
    
    $F1_{\text{micro}} = \frac{2PR}{P+R} = \frac{2\times0.777\times0.875}{0.777+0.875} \approx 0.823$

---

### ✅ 适用场景

- **样本分布不均衡**时使用。
    
- 更注重**整体准确性**而非单个类别。